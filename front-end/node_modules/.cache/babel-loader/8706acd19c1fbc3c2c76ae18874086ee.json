{"ast":null,"code":"var _jsxFileName = \"/Users/rosakang/Desktop/Brainstation/week06/BrainFlix/front-end/src/component/App.js\";\nimport React, { Component } from \"react\";\nimport axios from \"axios\";\nimport \"../styles/main.css\";\nimport Header from \"./Header\";\nimport Hero from \"./Hero\";\nimport Clip from \"./Clip\";\nimport NewComment from \"./NewComment\";\nimport CommentList from \"../container/CommentList\";\nimport VideoList from \"../container/VideoList\";\nconst videoUrl = \"http://localhost:5000/video/videos\";\n\nclass App extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      videos: [],\n      mainVideo: {\n        id: \"\",\n        title: \"\",\n        description: \"\",\n        channel: \"\",\n        image: \"\",\n        views: \"\",\n        likes: \"\",\n        duration: \"\",\n        video: \"\",\n        timestamp: 0,\n        comments: []\n      }\n    };\n  }\n\n  componentDidMount() {\n    console.log(videoUrl);\n    axios.get(videoUrl).then(video => {\n      const newVideos = video.data.map(videolist => {\n        return {\n          id: videolist.id,\n          title: videolist.title,\n          channel: videolist.channel,\n          image: videolist.image\n        };\n      });\n      const mainVideoUrl = \"http://localhost:5000/video/videos/\".concat(video.data[0].id);\n      console.log(mainVideoUrl);\n      axios.get(mainVideoUrl).then(response => {\n        this.setState({\n          mainVideo: response.data,\n          videos: newVideos\n        });\n      });\n    });\n  }\n\n  componentDidUpdate(prevState) {\n    if (typeof this.props.match.params.id === \"undefined\" && prevState.location.pathname !== \"/\") {\n      //console.log('working');\n      window.location.reload();\n    }\n\n    console.log(prevState.location.pathname); // console.log('this.state.mainvideo ' + this.state.mainVideo.id);\n    // console.log('params.id ' + this.props.match.params.id);\n\n    const videoId = this.props.match.params.id;\n    const currentVideo = \"http://localhost:5000/video/videos/\".concat(videoId);\n    axios.get(currentVideo).then(response => {\n      if (this.props.match.params.id !== this.state.mainVideo.id) {\n        this.setState({\n          mainVideo: response.data\n        });\n      }\n    }); //console.log(this.state.mainVideo);\n  }\n\n  render() {\n    //console.log(this.state.mainVideo.comments);\n    return React.createElement(\"div\", {\n      className: \"App\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, React.createElement(Header, {\n      history: this.props.history,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }), React.createElement(Hero, {\n      videos: this.state.mainVideo,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"box\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"boxClip\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, React.createElement(Clip, {\n      videos: this.state.mainVideo,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }), React.createElement(NewComment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }), React.createElement(CommentList, {\n      videos: this.state.mainVideo,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    })), React.createElement(VideoList, {\n      videos: this.state.videos,\n      mainVideo: this.state.mainVideo,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    })));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/rosakang/Desktop/Brainstation/week06/BrainFlix/front-end/src/component/App.js"],"names":["React","Component","axios","Header","Hero","Clip","NewComment","CommentList","VideoList","videoUrl","App","state","videos","mainVideo","id","title","description","channel","image","views","likes","duration","video","timestamp","comments","componentDidMount","console","log","get","then","newVideos","data","map","videolist","mainVideoUrl","response","setState","componentDidUpdate","prevState","props","match","params","location","pathname","window","reload","videoId","currentVideo","render","history"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport axios from \"axios\";\nimport \"../styles/main.css\";\nimport Header from \"./Header\";\nimport Hero from \"./Hero\";\nimport Clip from \"./Clip\";\nimport NewComment from \"./NewComment\";\nimport CommentList from \"../container/CommentList\";\nimport VideoList from \"../container/VideoList\";\n\nconst videoUrl = \"http://localhost:5000/video/videos\";\n\nclass App extends Component {\n  state = {\n    videos: [],\n    mainVideo: {\n      id: \"\",\n      title: \"\",\n      description: \"\",\n      channel: \"\",\n      image: \"\",\n      views: \"\",\n      likes: \"\",\n      duration: \"\",\n      video: \"\",\n      timestamp: 0,\n      comments: []\n    }\n  };\n\n  componentDidMount() {\n    console.log(videoUrl);\n    axios.get(videoUrl).then(video => {\n      const newVideos = video.data.map(videolist => {\n        return {\n          id: videolist.id,\n          title: videolist.title,\n          channel: videolist.channel,\n          image: videolist.image\n        };\n      });\n\n      const mainVideoUrl = `http://localhost:5000/video/videos/${\n        video.data[0].id\n      }`;\n      console.log(mainVideoUrl);\n      axios.get(mainVideoUrl).then(response => {\n        this.setState({\n          mainVideo: response.data,\n          videos: newVideos\n        });\n      });\n    });\n  }\n\n  componentDidUpdate(prevState) {\n    if (\n      typeof this.props.match.params.id === \"undefined\" &&\n      prevState.location.pathname !== \"/\"\n    ) {\n      //console.log('working');\n      window.location.reload();\n    }\n    console.log(prevState.location.pathname);\n    // console.log('this.state.mainvideo ' + this.state.mainVideo.id);\n    // console.log('params.id ' + this.props.match.params.id);\n    const videoId = this.props.match.params.id;\n    const currentVideo = `http://localhost:5000/video/videos/${videoId}`;\n\n    axios.get(currentVideo).then(response => {\n      if (this.props.match.params.id !== this.state.mainVideo.id) {\n        this.setState({\n          mainVideo: response.data\n        });\n      }\n    });\n    //console.log(this.state.mainVideo);\n  }\n\n  render() {\n    //console.log(this.state.mainVideo.comments);\n\n    return (\n      <div className=\"App\">\n        <Header history={this.props.history} />\n        <Hero videos={this.state.mainVideo} />\n        <div className=\"box\">\n          <div className=\"boxClip\">\n            <Clip videos={this.state.mainVideo} />\n            <NewComment />\n            <CommentList videos={this.state.mainVideo} />\n          </div>\n          <VideoList\n            videos={this.state.videos}\n            mainVideo={this.state.mainVideo}\n          />\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}